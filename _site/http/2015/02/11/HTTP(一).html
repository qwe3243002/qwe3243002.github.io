<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>HTTP简要介绍</title>
  <meta name="description" content="HTTP简要介绍">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" type="text/css" href="/css/styles.css">
  <link rel="canonical" href="http://qwe3243002.github.io/http/2015/02/11/HTTP(%E4%B8%80).html">
  <link rel="alternate" type="application/rss+xml" title="jambla's Blog" href="http://qwe3243002.github.io/feed.xml" />
	  <!-- 新 Bootstrap 核心 CSS 文件 -->
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap.min.css">

	<!-- 可选的Bootstrap主题文件（一般不用引入） -->
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">

	<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
	<script src="http://cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script>

	<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
	<script src="http://cdn.bootcss.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

  <script type="text/javascript" href="/js/responsive-nav.js"></script>
</head>

  <body>

    <div role="navigationjs" id="foo" class="nav-collapse">
      <ul>
          <li> <a href="/index.html"> 首页 </a> </li>
          <li> <a href="/categories.html"> 目录 </a> </li>
          <li> <a href="/contact.html"> 联系我 </a> </li>
      </ul>
    </div>

    <div role="main" class="main">
      <h1 id="http">HTTP简要介绍</h1>

<h2 id="section">1. 资源</h2>

<p>Web服务器是资源的宿主，最简单的Web资源就是Web服务器文件系统中的静态文件，如Html文件，电影文件等。但资源不一定是静态文件，资源还可以是根据需要所生成的软件程序。</p>

<p>因特网上有数千种不同的数据类型，而Http会对每种通过Web传输的对象都打上MEMI类型(MEMI type)的数据格式标签。MEMI即Multipurpose Internet Mail Extension，中文为<strong>多用途因特网邮件拓展</strong>。当Web浏览器从服务器中取出一个对象时，会去查看相关的MEMI类型，就会知道如何处理这个对象。大多数浏览器都支持数百种常见的对象类型，如显示图片文件，解析并格式化HTML文件，播放音乐等等。</p>

<p>MEMI类型是一种文本标记，表示一个主要对象类型和一个特定的子类型，中间由一条斜杠来分隔。</p>

<pre><code>HTML文件由text/html标记    
普通ASCII文件由text/plain标记
JPEG格式图片为image/jpeg
GIF格式图片为image/gif
</code></pre>

<p>其他格式，可以上网搜索查看。</p>

<h3 id="uri">1.1 URI</h3>

<p>服务器资源被称为统一资源标示符(Uniform Resources Identifier,URI)。</p>

<p>URI有两种形式，分别成为URL和URN。</p>

<h3 id="url">1.2 URL</h3>

<p>URL即统一资源定位符，用于描述一台特定服务器上某一特定资源的位置。</p>

<p>大部分URL都遵从一种标准格式。这种格式分为三部分：</p>

<pre><code>第一部分为scheme（方案），说明访问资源所用的协议类型，这部分通常是http协议(http://)
第二部分为协议的英特网地址，比如www.google.com
其余部分指定服务器上的资源地址，如/user/login
</code></pre>

<p>现在几乎所有的URI都为URL</p>

<h3 id="urn">1.3 URN</h3>

<p>URI的第二种形式是URN(统一资源名)，URN指定特定资源的唯一名称，与资源的位置无关，所以通过URN可以将资源随意搬移，还可以通过多种协议访问资源。</p>

<p>URN目前还处于试验阶段，并未大范围使用。</p>

<h2 id="section-1">2. 事务</h2>

<p>一个HTTP事务是由一个请求命令(从客户端发往服务器)和一条响应结果(从服务器发回客户端)组成的，其中传递的数据是通过HTTP报文发送的。</p>

<h3 id="section-2">2.1 方法</h3>

<p>HTTP支持多种命令，这些命令被称为方法，每个HTTP请求都会包含一个方法，这个方法会告诉服务器执行什么动作。常见的方法有如下几种：</p>

<pre><code>GET		 从服务器获取资源
PUT		 将从客户端传来的资源储存在服务器中
DELETE	  从服务器中删除对应资源
POST		将客户端数据发送到服务器的一个网关应用程序中
HEAD		仅发送对应资源的HTTP首部
</code></pre>

<h3 id="section-3">2.2 状态码</h3>

<p>每条HTTP返回响应是都会携带状态码，状态码为三位数字，用于告知服务器的响应状态，常见的状态码有：</p>

<pre><code>200 OK，文档返回正确
302 重定向，指定客户端到其他位置获取资源
404 资源未找到
</code></pre>

<h3 id="web">2.3 Web页面中可以包含多个对象</h3>

<p>一个应用程序如浏览器在完成一项任务时可能发布多个Http命令，比如在浏览页面时，会先执行一个事务来获取页面的html框架，然后发布多个http命令来获取页面中的资源如图片，js程序等。</p>

<h2 id="section-4">3. 报文</h2>

<p>Http报文是由一行一行的简单字符组成，并且不是二进制数而是纯文本形式，所以人们能很方便的读写内容。</p>

<p>Http报文分为两种即请求报文和响应报文。</p>

<p>Http报文包含三个部分：</p>

<pre><code>起始行

	报文的第一行就是起始行。在请求报文中说明要做什么，在响应报文中说明出现了什么状况。
	
首部字段

	起始行后面会有0至多个首部字段，首部字段采用键值对方式，键值之间用":"分隔。
	
	首部以一个空行结束。

主体

    请求主体中包含要发送给服务器的数据，响应主体中包含返回给客户端的数据，主体较为特殊，可以包含二进制数据。
</code></pre>

<h2 id="section-5">4. 连接</h2>

<p>简要介绍报文是如何通过TCP(传输控制协议)来传输的。</p>

<h3 id="tcpip">4.1 TCP/IP</h3>

<p>Http是应用层协议，由下层的TCP/IP协议为之提供服务，而TCP位于传输层又由其下层网络层的IP协议为之提供服务。TCP/IP是可靠地网络传输协议，为Http提供了无差错的数据传输，按序传输(数据总是会按照传输的顺序到达)，未分端的数据流(可以在任意时刻以任意尺寸将数据传输出去)。</p>

<h3 id="ip">4.2 连接、IP地址及端口号</h3>

<p>在Http向服务器发送报文前必须先通过服务器的地址和端口号建立一条TCP/IP连接。</p>

<p>对于客户端如何获取服务器地址和端口，一般通过解析URL来获取的，有如下3中形式：</p>

<pre><code>http://204.209.34.83:80/index.html

	直接告知IP地址和端口号

http://baidu.com:80/index.html

	通过DNS(Domain Name Service)域名服务机制来解析主机名获取IP地址

http://baidu.com/index.html

	若URL中没有端口号则默认为80端口
</code></pre>

<p>一个Http具体事务如下：</p>

<pre><code>a. 从URL中解析出服务器的主机名

b. 将服务器的主机名替换为IP地址

c. 将服务器的端口地址从URL中解析出来

d. 建立与服务器的TCP/IP连接

e. 发送Http请求报文

f. 服务器发送Http响应报文

g. 关闭连接，显示返回结果
</code></pre>

<h3 id="telnet">4.3 使用Telnet实例</h3>

<p>Telnet可以作为客户端程序访问Web服务器，通过输入主机地址以及端口号，telnet自主帮我们连接到服务器的端口号，接着由我们输入HTTP请求来访问web服务器，服务器返回响应结果。</p>

<blockquote>
  <p>注意：Telnet只能作为客户端访问web服务器，不可以作为服务器使用。<br />
通过telnet来实现自动化较为繁琐枯燥，建议使用netcat，并且netcat(nc)可以很方便地操纵基于TCP和UDP的流量。</p>
</blockquote>

<h2 id="http-1">5. HTTP版本号</h2>

<p>到当前世纪，http有多种版本号，Http应用程序要实现对多种http版本协议的支持。目前HTTP的版本有:</p>

<pre><code>* HTTP/0.9

    1991年HTTP的原型版本，有较多的设计缺陷，如只支持GET方法，没有首部之类的下版本HTTP特性，最初设计只是用来获取HTML网页。

* HTTTP/1.0

    HTTP开始流行时使用的版本号，开始支持较多特性，如MEMI等多媒体类型，添加了版本号，以及一些额外的方法，能够生成生动的网页与用户交互，实现了互联网的巨大商业价值。

* HTTP/1.0+

    非官方正式发布版本，由于HTTP/1.0版本的大幅度使用并具有极大的商业价值，很多公司针对1.0版本进行二次开发，添加了多种特性如keep-alive等，来增加商业用途。

* HTTP/1.1

    当前正在使用的HTTP版本号，对HTTP进行多方面优化，摒弃结构设计的缺陷，剔除不必要的特性，并引入重要的性能优化措施。

* HTTP-NG(HTTP/2.0)

    终止于1998年研究。主要关注与大幅度提高HTTP性能。
</code></pre>

<h2 id="web-1">6. Web的组件结构</h2>

<pre><code>* 代理

    位于客户端哈服务器中的中间服务器
    
    代理是Web安全、应用集成和性能优化的重要组成模块。
    
    通过代理能够实现对Web流量的过滤，比如检测下载软件是否带有病毒等。

* 缓存

    是一种特殊的代理服务器，将客户端经常访问的资源保存在代理服务器中，这样下次客户端访问资源的速度能更快，提高性能。

* 网关

    是一种特殊的服务器，经常用来作为其他服务器的中间实体使用，用来实现协议的转换。
    
    比如一条http请求接收ftp协议的文档，会由网关转换为ftpURI来请求服务器资源，并将返回的资源包装为HTTP格式返回。

* 隧道

    一条建立起来的隧道会在两端对原始数据进行盲转发，并且不会对数据进行探测。
    
    比如通过隧道可以传输SSL加密数据。

* Agent代理

    通常的Agent代理指的是Web浏览器，用来自动转发Web请求到服务器中。还可以建立自动访问互联网的半自动代理，比如搜索引擎，就是一种半自动代理，在互联网上搜索资源并保存在本地数据库中。
</code></pre>

    </div>

    <script>
      var navigation = responsiveNav("foo", {customToggle: ".nav-toggle"});
    </script>
  </body>
</html>
